<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta charset="ISO-8859-1" />
	<title><ui:insert name="title">Dashboard</ui:insert></title>
	<link type="text/css" rel="stylesheet"
		href="../../styles/companies.css" />
	<style type="text/css">
.no-border {
	border-style: hidden !important; /* or none */
	background-image: url('../../images/background.jpg');
}

.border {
	margin-left: 50px; ! important;
	border-style: solid !important; /* or none */
	background-image: url('../../images/background.jpg');
}

.ui-panel, div.ui-state-hover {
	margin-top: 10px;
	width: 350px;
}

.ui-dashboard-column {
	width: 380px;
}

.actionboardmessage {
	width: 80%;
	margin-left: 200px;
	baackground-color: #C6D8EC; #
	background-image: url('../../images/yellowback.png');
	margin-bottom: 10px
}

.actionboardarticle {
	width: 80%;
	margin-left: 150px;
	margin-bottom: 10px;
	background-image: url('../../images/yellowback.png');
}

.yellowtouch {
	width: 80%;
	height: 25px;
	margin-left: 150px;
	margin-bottom: 10px;
	background-color: #ffffe3
}

.graytouch {
	width: 80%;
	margin-left: 150px;
	margin-bottom: 10px;
	background-color: #F4F2F2
}

.transparentbutton {
	background: rgba(255, 255, 255, 0.0);
	border: none
}

.hide-column-names table thead tr {
	display: none;
}
</style>

</h:head>

<h:body>


	<p:layout fullPage="true" rendered="#{loginBean.loggedIn}"
		widgetVar="layoutWdgt">
		<p:layoutUnit position="north" resizable="true" minSize="200"
			collapseSize="20" collapsible="true" maxSize="200"
			style="min-height:180px;max-height:200px;border:0" scrollable="null">
			<ui:insert name="head">
				<p:panelGrid columns="2"
					columnClasses="no-border, no-border, no-border" style="width:100%;">
					<h:column>
						<img src="../../images/logo3.png" />

					</h:column>
					<h:column>
						<div align="left" style="width: 90%">


							<h:form id="timelineform">
								<pe:timeline id="timeline"
									value="#{basicTimelineController.model}" height="180px"
									width="100%" selectable="#{basicTimelineController.selectable}"
									zoomable="#{basicTimelineController.zoomable}"
									moveable="#{basicTimelineController.moveable}"
									stackEvents="#{basicTimelineController.stackEvents}"
									axisOnTop="false"
									eventStyle="#{basicTimelineController.eventStyle}"
									showCurrentTime="#{basicTimelineController.showCurrentTime}"
									showNavigation="false" min="#{basicTimelineController.min}"
									max="#{basicTimelineController.max}" ajax="false">
									<p:ajax event="select"
										listener="#{basicTimelineController.onSelect}" />
								</pe:timeline>
								<!-- <p:poll interval="10"
										listener="#{basicTimelineController.updateTimeline()}"
										 autoStart="true" /> -->
							</h:form>
							<h:outputStylesheet id="timelineCSS">  
                                    table .formColumn {  
                                        padding: 0 5px 0 5px;  
                                        text-align: right;  
                                        white-space: nowrap;  
                                    }      
                                       div.timeline-event-content {
                                        color:black;font-size:.75em;height:35px;background-color:rgba(255,255,255,.2);
                                        }
                                    div.vacation {
                                        background:rgba(0,255,0,0.3) !important;  /* green */  
                                        border-color: #136e13 !important;       
                                        color:white;
                                    }   
                                    div.illness {
                                        background:rgba(255,0,0,0.3) !important;  /* red */  
                                        border-color: #136e13 !important;       
                                        color:white;
                                    }   
                                     div.resourcereservationonline {
                                        background:rgba(85,295,96,0.3) !important;  /* green */  
                                        border-color: #136e13 !important;       
                                        color:white;
                                       }   
                                       
                                        div.resourcereservationoffline {
                                        background:rgba(180,180,180,0.3) !important;  /* gray */  
                                        border-color: #136e13 !important;       
                                        color:white;
                                       } 
                                </h:outputStylesheet>
						</div>

					</h:column>
					<!-- <h:column>
						<div align="right"
							style="min-height: 70px; padding-bottom: 5px; padding-right: 40%">
							<div align="center">
								<pe:analogClock mode="client" width="120" />
								
							</div>
						</div>
					</h:column> -->
				</p:panelGrid>

			</ui:insert>
		</p:layoutUnit>

		<p:layoutUnit position="center" resizable="true">
			<p:layout rendered="#{loginBean.getLoggedIn()}">
				<p:layoutUnit position="north" style="border:0">
					<h:form id="headerform">
						<p:layout style="height:40px;margin-left:0%;border:none"
							styleClass="noborder" scrollable="null">


							<p:layoutUnit position="west" style="border:0" minSize="300">

								<p:ajaxStatus style="whitespace:nowrap;">

									<f:facet name="default">
										<h:form rendered="#{messageBean.unreadMessages.size() gt 0}">
											<p:outputPanel style="padding-left:0%">

												<p:column>
													<p:commandButton
														value="#{messageBean.unreadMessages.size()}"
														icon="ui-icon-mail-closed"
														action="#{messageBean.gotoInbox}" />
												</p:column>

												<p:column>
													new messages.
													</p:column>

											</p:outputPanel>
										</h:form>
										<p:poll interval="30" update="headerform" />
									</f:facet>

									<f:facet name="start">

										<img style="margin-top: 7px;"
											src="../../images/ajax-loader.gif" />

									</f:facet>

									<f:facet name="complete">
										<p:outputPanel>

											<span
												style="whitespace: nowrap; margin-top: 15px; margin-left: 0%">
												<h:form rendered="#{messageBean.unreadMessages.size() gt 0}">
													<p:commandButton
														value="#{messageBean.unreadMessages.size()}"
														icon="ui-icon-mail-closed"
														action="#{messageBean.gotoInbox}" /> new messages.
                                    </h:form> <p:poll interval="30"
													update="headerform" />
											</span>
										</p:outputPanel>
									</f:facet>

								</p:ajaxStatus>
							</p:layoutUnit>
							<p:layoutUnit position="center" minSize="500" style="border:0">
								<div align="center" style="width: 100%">
									<h:panelGrid columns="3" width="250">
										<p:column>
											<p:selectOneMenu id="searchcontext" style="width:125px">
												<f:selectItem itemLabel="All" itemValue="all" />
												<f:selectItem itemLabel="Devices" itemValue="Devices" />
												<f:selectItem itemLabel="Documents" itemValue="Documents" />

											</p:selectOneMenu>
										</p:column>
										<p:column>
											<p:inputText value="#{searchBean.searchPhrase}"
												placeholder="Searchphrase..." style="width:450px" />
										</p:column>
										<p:column>
											<p:commandButton value="Search" icon="ui-icon-search"
												action="#{searchBean.search}"
												oncomplete="PF('searchResults').show();"
												update="searchResults" />
										</p:column>
									</h:panelGrid>
								</div>

							</p:layoutUnit>
							<p:layoutUnit position="east" minSize="270" style="border:0">

								<p:outputPanel>

									<h:form style="whitespace:nowrap;">
										<h:panelGrid columns="1" width="250">
											<p:column>
												<h:outputText value="Welcome, #{userBean.currentUser.name}." />
											</p:column>

										</h:panelGrid>
									</h:form>

								</p:outputPanel>


							</p:layoutUnit>





						</p:layout>
					</h:form>
				</p:layoutUnit>
				<p:layoutUnit position="center" style="border:0">

					<p:dialog header="Search Results" widgetVar="searchResults"
						style="min-width:600px;" minHeight="40">

						<p:dataList id="searchResults" value="#{searchBean.searchResults}"
							var="result" itemType="none" paginator="true" rows="10"
							styleClass="paginated" cellpadding="10">
							<f:facet name="header">

							</f:facet>
							<h:panelGrid columns="2" cellpadding="2">

								<h:outputText styleClass="ui-icon ui-icon-person" title="User"
									style="float:left" rendered="#{result.resultType eq 'User'}" />
								<h:outputText styleClass="ui-icon ui-icon-document"
									title="Document" style="float:left"
									rendered="#{result.resultType eq 'Document'}" />
								<h:outputText styleClass="ui-icon ui-icon-suitcase"
									title="Resource" style="float:left"
									rendered="#{result.resultType eq 'Resource'}" />
								<h:outputText styleClass="ui-icon ui-icon-star" title="Role"
									style="float:left" rendered="#{result.resultType eq 'Role'}" />
								<h:outputText styleClass="ui-icon ui-icon-home"
									title="Department" style="float:left"
									rendered="#{result.resultType eq 'Department'}" />

								<p:commandLink action="#{searchBean.displayResult(result)}"
									value="#{result.excerpt}" />

							</h:panelGrid>
						</p:dataList>
					</p:dialog>
					<p:layout widgetVar="layoutWdgtMenu">

						<p:layoutUnit position="center" resizable="true">

							<ui:insert name="content">

							</ui:insert>

						</p:layoutUnit>
						<p:layoutUnit position="west" resizable="true" minSize="200"
							maxSize="400" collapseSize="30" collapsible="true"
							style="border:0;">
							<div
								style="background-image: url('../images/background.jpg'); min-height: 100%">
								<h:form>
									<p:menu toggleable="true">
										<p:menuitem value="Dashboard" title="Display Dashboard"
											icon="fa fa-rocket" url="../dashboard/dashboard.xhtml"
											update="timeline"></p:menuitem>
										<p:submenu label="Messages" title="Messages"
											icon="fa fa-envelope-o">
											<p:menuitem value="New" title="New message..."
												icon="fa fa-flash" url="../messages/new.xhtml" />
											<p:menuitem value="Inbox" title="Show received messages"
												icon="fa fa-inbox" url="../messages/inbox.xhtml" />
											<p:menuitem value="Outbox" title="Show sent messages"
												icon="fa fa-send-o" url="../messages/sent.xhtml" />
										</p:submenu>
										<p:submenu label="Documents" icon="fa fa-files-o">
											<p:menuitem value="Documents" title="My documents"
												icon="fa fa-file-o" update="timeline"
												url="../documents/documents.xhtml"></p:menuitem>

										</p:submenu>
										<p:submenu label="Devices/Agents" icon="fa fa-sliders">
											<p:menuitem value="Devices" title="Show Devices"
												update="timeline" url="../resources/resources.xhtml"
												icon="fa fa-bar-chart-o"></p:menuitem>
											<p:menuitem value="Agents" title="Display Dashboard"
												update="timeline" icon="fa fa-sitemap"
												url="../resources/agents.xhtml"></p:menuitem>
										</p:submenu>

										<p:submenu label="Projects" title="Projects"
											icon="fa fa-pie-chart">
											<p:menuitem value="Projects" title="Display Projects"
												icon="fa fa-bank"></p:menuitem>
											<p:menuitem value="Tasks" title="Display Dashboard"
												icon="fa fa-tasks"></p:menuitem>
										</p:submenu>
										<p:submenu label="Settings" title="Settings"
											icon="fa fa-wrench">
											<p:menuitem value="Profile"
												title="Change Profile information" icon="fa fa-user"></p:menuitem>
											<p:menuitem value="Dashboard"
												title="Change Dashboard settings" icon="fa fa-line-chart"></p:menuitem>
											<p:menuitem value="Notifications"
												title="Notification settings" icon="fa fa-comment-o"></p:menuitem>
											<p:menuitem value="Logout" action="#{loginBean.logout}"
												ajax="false" icon="ui-icon-power " />
										</p:submenu>
									</p:menu>

								</h:form>
							</div>
						</p:layoutUnit>

					</p:layout>
				</p:layoutUnit>
			</p:layout>
		</p:layoutUnit>

		<p:layoutUnit position="south" closable="true" resizable="true"
			collapsible="true" maxSize="400" minSize="100" size="200"
			collapseSize="20" collapsed="true">

			<ui:insert name="footercontent">
				<!-- <h:form>
					 <p:dock position="bottom" itemWidth="60" maxWidth="40">
						<p:menuitem value="Dashboard" title="Display Dashboard"
							icon="../images/dashboard/dash_home.png" url="#" ></p:menuitem>
						<p:menuitem value="Messages" title="Display Messages"
							icon="../images/dashboard/dash_mail.png"></p:menuitem>
						<p:menuitem value="Documents" title="Display Documents"
							icon="../images/dashboard/dash_documents.png"></p:menuitem>
						<p:menuitem value="Devices" title="Display Devices"
							icon="../images/dashboard/dash_devices.png"></p:menuitem>
						<p:menuitem value="Tasks" title="Display Tasks"
							icon="../images/dashboard/dash_tasks.png"></p:menuitem>
							<p:menuitem value="Calendar" title="Display Calendar"
                            icon="../images/dashboard/dash_documents.png"></p:menuitem>
                            <p:menuitem value="My Departments" title="Show my Departments"
                            icon="../images/dashboard/dash_documents.png"></p:menuitem>
                            <p:menuitem value="Settings" title="Change Settings"
                            icon="../images/dashboard/dash_settings.png"></p:menuitem>
					</p:dock>
				</h:form> -->

				<div id="actionboard"
					style="background-image: url('../../images/background.jpg');">
					<!--  <p:panel class="actionboardarticle"
						header="13.10.2016 - 12:40 - (Article) from josephine (User)">
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
							Aenean blandit tortor a ipsum vehicula, in semper sapien auctor.
							Nulla tempor eget est non consequat. Nulla sit amet lorem justo.
							Cras non tellus eros. Sed ultricies orci ut quam interdum
							fringilla. Nam vitae massa ac mi elementum mattis vel vitae sem.
							Ut eros ipsum, scelerisque a erat a, eleifend luctus nibh.
							Interdum et malesuada fames ac ante ipsum primis in faucibus.</p>
					</p:panel> -->


					<p:panel class="actionboardmessage">
						<p:dataList styleClass="hide-column-names"
							value="#{userBean.actionBoardEntries}" var="entry"
							style="width:1000px;padding:0">

							<p:panel>
								<h:outputText value="#{entry.title} #{entry.message}" />
							</p:panel>


						</p:dataList>

					</p:panel>

					<p:panel class="actionboardmessage"
						style="width:60%;margin-bottom:20px"
						header="13.10.2016 - 12:38 - (Message) From admin (User)">
							Subject: This is a test
							</p:panel>

					<!-- <p:panel class="actionboardarticle"
						header="13.10.2016 - 12:22 - (Article) From Einkauf (Department)">
						<p>Vivamus ac ullamcorper magna. Aenean felis ante, elementum
							sit amet urna at, eleifend aliquet velit. Morbi a convallis
							magna. In nec leo vel dolor hendrerit pharetra. Cras in iaculis
							enim. Aenean porta sapien dignissim turpis dapibus, eu dictum
							velit elementum. Aliquam sollicitudin gravida luctus.</p>
						<p>Ut vel nulla sit amet erat laoreet eleifend nec sed lacus.
							Quisque placerat diam vitae justo eleifend, rutrum mollis mauris
							fringilla. Curabitur turpis odio, euismod id lorem a, ultricies
							suscipit ligula. Pellentesque ut erat a leo rhoncus porta ac sed
							velit. Nunc at erat ligula. Fusce vehicula posuere interdum.
							Curabitur tempus, tortor at sollicitudin dapibus, erat ante
							varius nisl, id dictum erat ipsum porttitor ipsum. Interdum et
							malesuada fames ac ante ipsum primis in faucibus. Nulla id varius
							enim, sed rutrum orci.</p>
						<p>Sed tincidunt urna quis metus lacinia commodo. Praesent
							convallis eros vel quam scelerisque bibendum. Mauris eget
							dignissim libero. Pellentesque sagittis sem quis ipsum viverra,
							sed consequat mi consectetur. Donec facilisis dapibus ultrices.
							Donec luctus auctor lacus, at congue nisi aliquet eu. Praesent in
							justo at risus faucibus ultricies. Fusce et libero lectus. Donec
							elementum pharetra sapien, at placerat purus sodales et. Vivamus
							iaculis lacus sed placerat rhoncus. Mauris iaculis sit amet nunc
							at placerat. Donec consequat euismod lacinia. Etiam nec quam
							vehicula, cursus massa in, ullamcorper erat.</p>
						<p>Praesent volutpat scelerisque vestibulum. In eu massa non
							neque rutrum commodo. Nunc vel enim nisi. Aenean leo ipsum,
							molestie vel justo nec, pharetra luctus dui. Nunc rhoncus turpis
							id lorem luctus consequat. Nulla condimentum adipiscing turpis
							consequat semper. Etiam ullamcorper velit nec hendrerit
							malesuada. Praesent venenatis leo sit amet arcu commodo, sit amet
							porta tellus suscipit. Quisque mi tortor, vestibulum in arcu non,
							pretium auctor libero. In commodo luctus placerat.</p>
					</p:panel> -->
				</div>
			</ui:insert>
		</p:layoutUnit>

	</p:layout>

	<p:panel id="nosession" rendered="#{not loginBean.loggedIn}"
		style="margin:auto;margin-top:10%;">
		<div align="center">
			<h1>You are not logged in.</h1>
			<h2>Please log in:</h2>
			<form>
				<a href="../login.xhtml">Login</a>
			</form>
		</div>
	</p:panel>


</h:body>
</html>