<!-- /*
 * Copyright 2015-2020 Peter Michael Haller and contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ -->

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:head>
	<style type="text/css">
.no-border {
	border-style: hidden !important; /* or none */
	background-image: url('../../images/background.jpg');
}
</style>
</h:head>
<h:body>
	<div data-role="header">

		<!-- <div data-role="header">
		<img src="../../images/logo.png" /> <span
			style="position: relative; top: -10px; margin-left: 25%; font-size: 28pt; color: 41426D; font-family: 'Serif'">Prioritize
			</span>
	</div> -->
		<p:panelGrid columns="3"
			columnClasses="no-border, no-border, no-border" style="width:100%;">
			<h:column>
				<img src="../../images/logo2.png" />
			</h:column>
			<h:column>
				<div align="center">
					<span
						style="position: relative; top: 10px; margin-right: 20%; font-size: 28pt; color: 41426D; font-family: 'Arial,Helvetica'">
						</span>
				</div>
			</h:column>
			<h:column>
				<div align="right" style="padding-bottom: 5px; padding-right: 15px;">
					<!-- <pe:analogClock mode="client" width="100"  />
 -->				</div>
			</h:column>
		</p:panelGrid>

	</div>

	<h:form>
		<p:menubar id="menubar" rendered="#{loginBean.getLoggedIn()}">
			<p:menuitem value="Home" url="../index.xhtml" icon="ui-icon-home"></p:menuitem>
			<p:submenu label="Manage..." icon="ui-icon-document">
				<p:menuitem value="Companies" url="../companies/companies.xhtml"
					style="font-size:12pt;" />
				<p:separator />
				<p:menuitem value="Roles" url="../roles/roles.xhtml"
					style="font-size:12pt;" icon="ui-icon-person" />
				<p:menuitem value="Users" url="../users/users.xhtml"
					style="font-size:12pt;" icon="ui-icon-person" />
				<p:menuitem value="Skills" url="../skills/skills.xhtml"
					style="font-size:12pt;" icon="ui-icon-wrench" />
				<p:menuitem value="Messages" url="../messages/messages.xhtml"
					style="font-size:12pt;" icon="ui-icon-mail-closed" />
				<p:menuitem value="Calendar" url="../calendar/calendar.xhtml"
					style="font-size:12pt;" icon="ui-icon-calendar" />
			 	<p:menuitem value="Task" url="#" icon="ui-icon-calendar"
					style="font-size:12pt;" />
				<p:separator />

				<p:menuitem value="Projects" url="#" style="font-size:12pt;"
					icon="ui-icon-pencil" />
                <p:menuitem value="Project Goals" url="../projectgoals/goals.xhtml"
                    style="font-size:12pt;" icon="ui-icon-mail-closed" />
				<p:separator />

				<p:menuitem value="Agents" url="../agents/agents.xhtml"
					style="font-size:12pt;" icon="ui-icon-suitcase" />
				<p:menuitem value="Resources" url="../resources/resources.xhtml"
					style="font-size:12pt;" icon="ui-icon-lightbulb" />
				<p:menuitem value="Documents" url="../documents/documents.xhtml"
					style="font-size:12pt;" icon="ui-icon-document" />
					
					<p:separator></p:separator>
					<p:menuitem value="Counters" url="../framework/counters/index.xhtml"
                    style="font-size:12pt;" icon="ui-icon-document" />
					<p:menuitem value="User settings" url="../usersettings/itemcollections.xhtml"
                    style="font-size:12pt;" icon="ui-icon-document" />



			</p:submenu>

			<p:submenu label="Settings" icon="ui-icon-gear">
				<p:menuitem id="enablelogging" value="Enable Logging"
					action="#{loggingBean.enableLogging}" icon="ui-icon-play"
					style="font-size:12pt;" update="menubar"
					rendered="#{not loggingBean.loggingEnabled}" />
				<p:menuitem id="disablelogging" value="Disable Logging"
					update="menubar" action="#{loggingBean.disableLogging}"
					icon="ui-icon-pause" style="font-size:12pt;"
					rendered="#{loggingBean.loggingEnabled}" />
				<p:menuitem value="Misc" url="#" style="font-size:12pt;"
					icon="ui-icon-grip-dotted-vertical" />
			</p:submenu>

			<p:submenu label="#{userBean.currentUser.name}..."
				icon="ui-icon-person">
				<p:menuitem value="Logout" action="#{loginBean.logout}" ajax="false"
					icon="ui-icon-power " />
			</p:submenu>

			<f:facet name="options">
				<p:inputText style="margin-right:10px"
					value="#{searchBean.searchPhrase}" placeholder="Search" />
				<p:commandButton value="Search" action="#{searchBean.search}"
					oncomplete="PF('searchResults').show();" update="searchResults" />
				<p:commandButton type="button" ajax="false"
					action="#{loginBean.logout}" value="Logout" icon="ui-icon-extlink" />
			</f:facet>
		</p:menubar>
		<p:dialog header="Search Results" widgetVar="searchResults"
			style="min-width:600px;" minHeight="40">

			<p:dataList id="searchResults" value="#{searchBean.searchResults}"
				var="result" itemType="none" paginator="true" rows="10"
				styleClass="paginated" cellpadding="10">
				<f:facet name="header">

				</f:facet>
				<h:panelGrid columns="2" cellpadding="2">

					<h:outputText styleClass="ui-icon ui-icon-person" title="User"
						style="float:left" rendered="#{result.resultType eq 'User'}" />
					<h:outputText styleClass="ui-icon ui-icon-document"
						title="Document" style="float:left"
						rendered="#{result.resultType eq 'Document'}" />
					<h:outputText styleClass="ui-icon ui-icon-suitcase"
						title="Resource" style="float:left"
						rendered="#{result.resultType eq 'Resource'}" />
					<h:outputText styleClass="ui-icon ui-icon-star" title="Role"
						style="float:left" rendered="#{result.resultType eq 'Role'}" />
					<h:outputText styleClass="ui-icon ui-icon-home" title="Department"
						style="float:left" rendered="#{result.resultType eq 'Department'}" />

					<!--   <p:link outcome="users/edituser.xhtml" value="#{result.excerpt}">
                    <f:param name="user" value="#{result.result}"></f:param> 
                </p:link> -->

					<p:commandLink action="#{searchBean.displayResult(result)}"
						value="#{result.excerpt}" />

				</h:panelGrid>
			</p:dataList>
		</p:dialog>
	</h:form>
</h:body>
</html>
