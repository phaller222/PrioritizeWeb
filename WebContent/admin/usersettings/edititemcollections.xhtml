<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta charset="ISO-8859-1" />
	<title>Companies</title>
	<link type="text/css" rel="stylesheet"
		href="../../styles/companies.css" />
</h:head>

<h:body>
<ui:include src="/admin/mainmenu.xhtml" />
    <p:panel id="sessionok" rendered="#{loginBean.getLoggedIn()}">
    <h2>Bookmarks / Item-Collections</h2>
	<h:form id="itemcollections">
	<h2>Users in collection:</h2>
		<p:dataTable var="val"
			value="#{itemCollectionBean.currentItemCollection.users}"
			style="max-width:1250px" dynamic="true" layout="grid"
			paginator="true" rows="10">

			<p:column headerText="Username" resizable="true" toggleable="true">
				<h:outputText value="#{val.username}"></h:outputText>
			</p:column>
			<p:column headerText="Name" resizable="true" toggleable="true">
                <h:outputText value="#{val.name}"></h:outputText>
            </p:column>
            <p:column headerText="Actions"  resizable="true" toggleable="true" >
            <p:commandButton id="deleteUser"
                                                value="Delete" icon="ui-icon-trash"
                                                action="#{itemCollectionBean.removeUser(val)}" ajax="false"
                                                style="width:220px"></p:commandButton>
            </p:column>
		</p:dataTable>
		<h2>Documents in collection:</h2>
		<p:dataTable var="val"
            value="#{itemCollectionBean.currentItemCollection.documents}"
            style="max-width:1250px" dynamic="true" layout="grid"
            paginator="true" rows="10">

            <p:column headerText="Name" resizable="true" toggleable="true">
                <h:outputText value="#{val.currentDocument.name}"></h:outputText>
            </p:column>
            <p:column headerText="Last modified" resizable="true" toggleable="true">
                <h:outputText value="#{val.currentDocument.lastModified}"></h:outputText>
            </p:column>
            <p:column headerText="Actions"  resizable="true" toggleable="true" >
            <p:commandButton id="deleteDocument"
                                                value="Delete" icon="ui-icon-trash"
                                                action="#{itemCollectionBean.removeDocument(val)}" ajax="false"
                                                style="width:220px"></p:commandButton>
            </p:column>
        </p:dataTable>
		
		
	</h:form>
	</p:panel>
</h:body>
</html>