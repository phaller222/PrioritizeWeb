<!-- /*
 * Copyright 2015-2020 Peter Michael Haller and contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ -->

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<!-- 
   Nützliche Angaben bei schedule: 
   
   <p:schedule value="#{scheduleController.eventModel}"
widgetVar="myschedule" view="agendaWeek"     allDaySlot="false"
slotMinutes="15" firstHour="7" showWeekends="FALSE"
leftHeaderTemplate="prev,next" rightHeaderTemplate=""
minTime="7am" maxTime="21pm" timeFormat="dd/MM hh:mm"
axisFormat="HH">
   

 -->


<h:head>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />


	<meta charset="ISO-8859-1" />
	<title>Calendar</title>
	<link type="text/css" rel="stylesheet"
		href="../../styles/companies.css" />

   <!-- <script type="text/javascript">
PrimeFaces.locales['de'] = {
	    closeText: 'Schließen',
	    prevText: 'Zurück',
	    nextText: 'Weiter',
	    monthNames: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
	    monthNamesShort: ['Jan', 'Feb', 'MÃ¤r', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
	    dayNames: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
	    dayNamesShort: ['Son', 'Mon', 'Die', 'Mit', 'Don', 'Fre', 'Sam'],
	    dayNamesMin: ['S', 'M', 'D', 'M ', 'D', 'F ', 'S'],
	    weekHeader: 'Woche',
	    firstDay: 1,
	    isRTL: false,
	    showMonthAfterYear: false,
	    yearSuffix: '',
	    timeOnlyTitle: 'Nur Zeit',
	    timeText: 'Zeit',
	    hourText: 'Stunde',
	    minuteText: 'Minute',
	    secondText: 'Sekunde',
	    currentText: 'Aktuelles Datum',
	    ampm: false,
	    month: 'Monat',
	    week: 'Woche',
	    day: 'Tag',
	    allDayText: 'Ganzer Tag'
	};
PrimeFaces.locales ['en_US'] = {
	    closeText: 'Close',
	    prevText: 'Previous',
	    nextText: 'Next',
	    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December' ],
	    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ],
	    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
	    dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Tue', 'Fri', 'Sat'],
	    dayNamesMin: ['S', 'M', 'T', 'W ', 'T', 'F ', 'S'],
	    weekHeader: 'Week',
	    firstDay: 1,
	    isRTL: false,
	    showMonthAfterYear: false,
	    yearSuffix:'',
	    timeOnlyTitle: 'Only Time',
	    timeText: 'Time',
	    hourText: 'Time',
	    minuteText: 'Minute',
	    secondText: 'Second',
	    currentText: 'Current Date',
	    ampm: false,
	    month: 'Month',
	    week: 'week',
	    day: 'Day',
	    allDayText: 'All Day',
	    messages: {
	        'javax.faces.component.UIInput.REQUIRED': '{0}: Validation Error: Value is required.',
	        'javax.faces.converter.IntegerConverter.INTEGER': '{2}: \'{0}\' must be a number consisting of one or more digits.',
	        'javax.faces.converter.IntegerConverter.INTEGER_detail': '{2}: \'{0}\' must be a number between -2147483648 and 2147483647 Example: {1}',
	        'javax.faces.converter.DoubleConverter.DOUBLE': '{2}: \'{0}\' must be a number consisting of one or more digits.',
	        'javax.faces.converter.DoubleConverter.DOUBLE_detail': '{2}: \'{0}\' must be a number between 4.9E-324 and 1.7976931348623157E308  Example: {1}',
	        'javax.faces.converter.BigDecimalConverter.DECIMAL': '{2}: \'{0}\' must be a signed decimal number.',
	        'javax.faces.converter.BigDecimalConverter.DECIMAL_detail': '{2}: \'{0}\' must be a signed decimal number consisting of zero or more digits, that may be followed by a decimal point and fraction.  Example: {1}',
	        'javax.faces.converter.BigIntegerConverter.BIGINTEGER': '{2}: \'{0}\' must be a number consisting of one or more digits.',
	        'javax.faces.converter.BigIntegerConverter.BIGINTEGER_detail': '{2}: \'{0}\' must be a number consisting of one or more digits. Example: {1}',
	        'javax.faces.converter.ByteConverter.BYTE': '{2}: \'{0}\' must be a number between 0 and 255.',
	        'javax.faces.converter.ByteConverter.BYTE_detail': '{2}: \'{0}\' must be a number between 0 and 255.  Example: {1}',
	        'javax.faces.converter.CharacterConverter.CHARACTER': '{1}: \'{0}\' must be a valid character.',
	        'javax.faces.converter.CharacterConverter.CHARACTER_detail': '{1}: \'{0}\' must be a valid ASCII character.',
	        'javax.faces.converter.ShortConverter.SHORT': '{2}: \'{0}\' must be a number consisting of one or more digits.',
	        'javax.faces.converter.ShortConverter.SHORT_detail': '{2}: \'{0}\' must be a number between -32768 and 32767 Example: {1}',
	        'javax.faces.converter.BooleanConverter.BOOLEAN': '{1}: \'{0}\' must be \'true\' or \'false\'',
	        'javax.faces.converter.BooleanConverter.BOOLEAN_detail': '{1}: \'{0}\' must be \'true\' or \'false\'.  Any value other than \'true\' will evaluate to \'false\'.',
	        'javax.faces.validator.LongRangeValidator.MAXIMUM': '{1}: Validation Error: Value is greater than allowable maximum of \'{0}\'',
	        'javax.faces.validator.LongRangeValidator.MINIMUM': '{1}: Validation Error: Value is less than allowable minimum of \'{0}\'',
	        'javax.faces.validator.LongRangeValidator.NOT_IN_RANGE': '{2}: Validation Error: Specified attribute is not between the expected values of {0} and {1}.',
	        'javax.faces.validator.LongRangeValidator.TYPE={0}': 'Validation Error: Value is not of the correct type.',
	        'javax.faces.validator.DoubleRangeValidator.MAXIMUM': '{1}: Validation Error: Value is greater than allowable maximum of \'{0}\'',
	        'javax.faces.validator.DoubleRangeValidator.MINIMUM': '{1}: Validation Error: Value is less than allowable minimum of \'{0}\'',
	        'javax.faces.validator.DoubleRangeValidator.NOT_IN_RANGE': '{2}: Validation Error: Specified attribute is not between the expected values of {0} and {1}',
	        'javax.faces.validator.DoubleRangeValidator.TYPE={0}': 'Validation Error: Value is not of the correct type',
	        'javax.faces.converter.FloatConverter.FLOAT': '{2}: \'{0}\' must be a number consisting of one or more digits.',
	        'javax.faces.converter.FloatConverter.FLOAT_detail': '{2}: \'{0}\' must be a number between 1.4E-45 and 3.4028235E38  Example: {1}',
	        'javax.faces.converter.DateTimeConverter.DATE': '{2}: \'{0}\' could not be understood as a date.',
	        'javax.faces.converter.DateTimeConverter.DATE_detail': '{2}: \'{0}\' could not be understood as a date. Example: {1}',
	        'javax.faces.converter.DateTimeConverter.TIME': '{2}: \'{0}\' could not be understood as a time.',
	        'javax.faces.converter.DateTimeConverter.TIME_detail': '{2}: \'{0}\' could not be understood as a time. Example: {1}',
	        'javax.faces.converter.DateTimeConverter.DATETIME': '{2}: \'{0}\' could not be understood as a date and time.',
	        'javax.faces.converter.DateTimeConverter.DATETIME_detail': '{2}: \'{0}\' could not be understood as a date and time. Example: {1}',
	        'javax.faces.converter.DateTimeConverter.PATTERN_TYPE': '{1}: A \'pattern\' or \'type\' attribute must be specified to convert the value \'{0}\'', 
	        'javax.faces.converter.NumberConverter.CURRENCY': '{2}: \'{0}\' could not be understood as a currency value.',
	        'javax.faces.converter.NumberConverter.CURRENCY_detail': '{2}: \'{0}\' could not be understood as a currency value. Example: {1}',
	        'javax.faces.converter.NumberConverter.PERCENT': '{2}: \'{0}\' could not be understood as a percentage.',
	        'javax.faces.converter.NumberConverter.PERCENT_detail': '{2}: \'{0}\' could not be understood as a percentage. Example: {1}',
	        'javax.faces.converter.NumberConverter.NUMBER': '{2}: \'{0}\' could not be understood as a date.',
	        'javax.faces.converter.NumberConverter.NUMBER_detail': '{2}: \'{0}\' is not a number. Example: {1}',
	        'javax.faces.converter.NumberConverter.PATTERN': '{2}: \'{0}\' is not a number pattern.',
	        'javax.faces.converter.NumberConverter.PATTERN_detail': '{2}: \'{0}\' is not a number pattern. Example: {1}',
	        'javax.faces.validator.LengthValidator.MINIMUM': '{1}: Validation Error: Length is less than allowable minimum of \'{0}\'',
	        'javax.faces.validator.LengthValidator.MAXIMUM': '{1}: Validation Error: Length is greater than allowable maximum of \'{0}\'',
	        'javax.faces.validator.RegexValidator.PATTERN_NOT_SET': 'Regex pattern must be set.',
	        'javax.faces.validator.RegexValidator.PATTERN_NOT_SET_detail': 'Regex pattern must be set to non-empty value.',
	        'javax.faces.validator.RegexValidator.NOT_MATCHED': 'Regex Pattern not matched',
	        'javax.faces.validator.RegexValidator.NOT_MATCHED_detail': 'Regex pattern of \'{0}\' not matched',
	        'javax.faces.validator.RegexValidator.MATCH_EXCEPTION': 'Error in regular expression.',
	        'javax.faces.validator.RegexValidator.MATCH_EXCEPTION_detail': 'Error in regular expression, \'{0}\''
	    }
	};

</script> -->

</h:head>

<h:body>

	<ui:include src="/admin/mainmenu.xhtml" />
	<p:panel id="sessionok" rendered="#{loginBean.getLoggedIn()}">
		<div data-role="content">


			<p:growl id="messages" showDetail="true" />

			<div id="calendarmain" align="center" style="width: 100%">

				<p:panel style="width:90%;height:130%;">

					<div id="select department">
						<h:form id="formdepartments">
							<h:panelGrid columns="3" footerClass=".ui-widget-footer"
								headerClass=".ui-widget-header" frame="none" cellpadding="10">

								<h:outputText value="Department:"></h:outputText>
								<p:selectOneMenu onchange="submit()" id="departments"
									rendered="true" value="#{calendarView.selectedDepartmentId}">
									<f:selectItem itemLabel="---" itemValue="#{null}"
										noSelectionOption="true" />
									<f:selectItems value="#{resourceBean.departments}"
										var="department" itemValue="#{department.id}"
										itemLabel="#{department.company.name} - #{department.name}"
										itemDescription="#{department.company.name} - #{department.name}" />
								</p:selectOneMenu>
								<p:panel class="legend">
									<p:outputPanel>
										<h3>Legend</h3>
										<h:outputText styleClass="resourcereservation"
											value="Resource Reservation"></h:outputText>
										<h:outputText value="&#160;" />
										<h:outputText styleClass="vacations" style="width:140px;"
											value="Vacation"></h:outputText>
										<h:outputText value="&#160;" />
										<h:outputText styleClass="illness" style="width:140px;"
											value="Illness"></h:outputText>
									</p:outputPanel>
								</p:panel>
							</h:panelGrid>
						</h:form>
					</div>

					<p:outputPanel style="width:70%;height:500px">
						<p:dialog widgetVar="eventDialog" header="Event Details"
							showEffect="clip" hideEffect="clip">
							<h:panelGrid id="eventDetails" columns="2"
								style="min-width:300px;min-height:300px;">
								<p:outputLabel for="title" value="Title:" />
								<p:outputLabel id="title" value="#{calendarView.event.title}" />

								<p:outputLabel for="from" value="From:" />
								<p:outputLabel id="from" value="#{calendarView.event.startDate}">
								</p:outputLabel>

								<p:outputLabel for="to" value="To:" />
								<p:outputLabel id="to" value="#{calendarView.event.endDate}">
								</p:outputLabel>




							</h:panelGrid>

						</p:dialog>

						<p:schedule id="schedule" value="#{calendarView.lazyEventModel}"
							widgetVar="myschedule" ignoreTimezone="false" timeZone="local"  locale="de"
							timeFormat="HH:mm" axisFormat="HH:mm" slotDuration="00:15:00"
							scrollTime="07:00:00">
							<!-- <p:ajax event="dateSelect"
									listener="#{calendarView.onDateSelect}" update="eventDetails"
									oncomplete="PF('eventDialog').show();" /> -->
							<p:ajax event="eventSelect"
								listener="#{calendarView.onEventSelect}" update="eventDetails"
								oncomplete="PF('eventDialog').show();" />
							<p:ajax event="eventMove" listener="#{calendarView.onEventMove}" />
							<p:ajax event="eventResize"
								listener="#{calendarView.onEventResize}" />
						</p:schedule>
					</p:outputPanel>





				</p:panel>
			</div>


		</div>


	</p:panel>

	<ui:include src="/notloggedin.xhtml" />





	<style type="text/css">
.value {
	width: 1000px;
}

.legend {
	text-align: left;
	width: 250px;
	line-height: 120%;
	min-height: 60px;
	background: rgba(255, 255, 192, 0.7)
}

.resourcereservation {
	background: rgba(152, 152, 152, 0.6);
	color: white;
	border-style: solid;
	border-width: 1px;
	border-color: black;
	font-size: 8pt;
	font-weight: bold;
}

.vacations {
	background: rgba(255, 128, 128, 0.6);
	color: white;
	border-style: solid;
	border-width: 1px;
	border-color: black;
	font-size: 8pt;
	font-weight: bold;
}

.illness {
	background: rgba(255, 0, 0, 0.6);
	color: white;
	border-style: solid;
	border-width: 1px;
	border-color: black;
	font-size: 8pt;
	font-weight: bold;
}
</style>

</h:body>
</html>